<main class="min-h-screen w-full bg-[#f4f0e8] text-[#333] font-sans flex flex-col items-center justify-start p-4 sm:p-8 overflow-hidden">
  
  <header class="text-center mb-2 md:mb-4">
    <h1 class="text-3xl md:text-5xl font-bold text-stone-700 tracking-tight">Fluxo de Parceria e Produção</h1>
    <h2 class="text-xl md:text-2xl text-stone-500">LABirintar com Escolas</h2>
    <p class="text-md text-stone-500 mt-2">(Ciclo de Retroalimentação – da escuta à operação)</p>
  </header>

  <div class="relative w-[60rem] h-[60rem] flex items-center justify-center scale-75 md:scale-90 lg:scale-100">
    <!-- Center Circle -->
    <div class="absolute z-10 flex flex-col items-center justify-center w-64 h-64 bg-white rounded-full shadow-2xl p-4 text-center">
      <h3 class="text-xl font-bold text-stone-800">Parceria Viva</h3>
      <span class="text-3xl font-light text-stone-500">LABirintar</span>
      <span class="text-2xl font-light text-stone-500">↔</span>
      <span class="text-3xl font-light text-stone-500">Escola</span>
    </div>

    <!-- Step Circles -->
    @for (step of steps(); track step.id; let i = $index) {
      <div 
        class="absolute w-60 h-60 p-5 flex flex-col items-center justify-center rounded-full shadow-lg transition-transform duration-500 hover:scale-110 hover:shadow-2xl hover:z-20"
        [style.background-color]="step.color"
        [style.transform]="getTransform(i, steps().length)">
        
        <div class="text-center">
          <h4 class="font-bold text-lg text-stone-800">{{ step.title }}</h4>
          <p class="text-sm font-semibold text-stone-600">{{ step.department }}</p>
          <div class="absolute inset-0 bg-black bg-opacity-50 rounded-full flex flex-col justify-center p-4 opacity-0 hover:opacity-100 transition-opacity duration-300">
             @for(desc of step.description; track desc) {
                <p class="text-white text-xs leading-tight mb-1">• {{ desc }}</p>
             }
          </div>
        </div>
      </div>
    }
  </div>
  
  <!-- Feedback loop card -->
  <div class="mt-8 md:mt-0 max-w-2xl w-full bg-white rounded-2xl shadow-xl p-6 border-4 border-stone-200">
      <h3 class="text-2xl font-bold text-stone-700 mb-2">{{ feedbackLoop().title }}</h3>
       @for(desc of feedbackLoop().description; track desc) {
         <p class="text-stone-600 text-sm md:text-base mb-1">• {{ desc }}</p>
       }
  </div>

</main>